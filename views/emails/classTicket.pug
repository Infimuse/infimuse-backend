extends baseEmail

block content
  p Hi #{firstName},
  p Thank you for purchasing a ticket for #{title}. Here are your booking details:

  .ticket-container(style='background: #f9f9f9; border-radius: 10px; padding: 20px; margin: 20px 0;')
    h2(style='color: #333; margin-bottom: 15px;') Ticket Details
    
    .class-info(style='margin-bottom: 20px;')
      h3(style='color: #444; margin-bottom: 10px;') #{title}
      p(style='color: #666; margin: 5px 0;') Event Date: #{date}
      if endDate
        p(style='color: #666; margin: 5px 0;') End Date: #{endDate}
    
    .qr-code(style='text-align: center; margin: 20px 0;')
      h3(style='color: #444; margin-bottom: 15px;') Entry Pass
      if qrCodeURL
        img(src=qrCodeURL alt='Entry QR Code' style='width: 200px; height: 200px;')
      else
        p(style='color: #666;') QR code will be generated shortly.

    h2(style='color: #333; margin: 30px 0 15px;') Invoice/Receipt
    table(style='width: 100%; border-collapse: collapse; margin-top: 10px;')
      thead
        tr(style='background: #f0f0f0;')
          th(style='padding: 12px; border: 1px solid #ddd; text-align: left;') Description
          th(style='padding: 12px; border: 1px solid #ddd; text-align: right;') Amount
      tbody
        tr
          td(style='padding: 12px; border: 1px solid #ddd;') #{title}
          td(style='padding: 12px; border: 1px solid #ddd; text-align: right;') KES #{amount}
        tr
          td(style='padding: 12px; border: 1px solid #ddd;') Tax (16%)
          td(style='padding: 12px; border: 1px solid #ddd; text-align: right;') KES #{(amount * 0.16).toFixed(2)}
        tr(style='font-weight: bold; background: #f9f9f9;')
          td(style='padding: 12px; border: 1px solid #ddd;') Total Paid
          td(style='padding: 12px; border: 1px solid #ddd; text-align: right;') KES #{(amount ).toFixed(2)}

  if channelLink
    .channel-link(style='margin-top: 20px;')
      p(style='margin-bottom: 10px;') Join the class channel to stay updated:
      a(href=channelLink style='background: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;') Join Channel

  .notes(style='margin-top: 30px; padding: 15px; background: #fff3cd; border-radius: 5px;')
    p(style='color: #856404; margin: 0;') 
      strong Important: 
      | This QR code is unique to you and will be scanned at entry. Please keep it safe and do not share it.

  p Best regards,
  p The Infimuse Team